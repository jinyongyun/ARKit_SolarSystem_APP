# ARKit_SolarSystem_APP

â˜€ï¸ ARKitì„ ì´ìš©í•œ íƒœì–‘ê³„ ì¦ê°•í˜„ì‹¤ ì•± ë§Œë“¤ê¸°!
ìƒˆë¡œìš´ ì‹œë¦¬ì¦ˆë¡œ ëŒì•„ì™”ë‹¤!
![KakaoTalk_Image_2024-02-20-14-17-03](https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/eac1b827-579e-4b8f-a6dc-5519083324fb)

ì´ë²ˆ ì‹œë¦¬ì¦ˆëŠ” ë°”ë¡œ AR(ì¦ê°•í˜„ì‹¤) ê·¸ë¦¬ê³  ML(ë¨¸ì‹ ëŸ¬ë‹)ì„ ì´ìš©í•œ ì•±ì„ ë§Œë“¤ì–´ ë³¼ ê²ƒì´ë‹¤.

ì´ê±¸ ë‚´ê°€ ì–´ë–»ê²Œ ë§Œë“¤ì–´?! -ë¼ê³  í•  ìˆ˜ë„ ìˆì§€ë§Œ, ê¸°íŠ¹í•œ ì• í”Œì´ ì´ë¯¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ ë†“ì•˜ë‹¤.

í•˜ì§€ë§Œ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ì •ë³´ê°€ ê³µì‹ë¬¸ì„œë¥¼ ì œì™¸í•˜ê³  ê±°ì˜ ì—†ëŠ” ê´€ê³„ë¡œ ì§ì ‘ ì¡°ì‚¬í•´ì„œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

***í•„ìì—ê²Œë„ ì¼ì¢…ì˜ ë„ì „ì ì¸ ì‹œë¦¬ì¦ˆê°€ ë  ê²ƒì´ë‹¤!!***

## ARKit ê°œìš”

- ì¦ê°•í˜„ì‹¤(Augmented Reality)

ì¹´ë©”ë¼ë¥¼ í†µí•´ ë¼ì´ë¸Œë·°ì— 2D or 3D ìš”ì†Œë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ì ì•ì— ì¡´ì¬í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.

ì¦‰ í˜„ì‹¤ ì„¸ê³„ì—ì„œ ìš°ë¦¬ê°€ ë§Œë“¤ì–´ ì¤€ ê°€ìƒì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ë„£ì–´ì¤˜ì„œ í˜„ì‹¤ê³¼ ê°€ìƒì˜ ê²½ê³„ë¥¼ í—ˆë¬´ëŠ” ê¸°ìˆ ì´ë‹¤!

í•„ìê°€ ìì£¼ í•˜ëŠ” í¬ì¼“ëª¬ê³ ê°€ ëŒ€í‘œì ì¸ ì˜ˆì‹œ(í•„ìëŠ” í¬ì¼“ëª¬ê³  ê³ ì¸ë¬¼ì´ë‹¤.)

Swiftì—ë„ ì´ëŸ° ì¦ê°•í˜„ì‹¤ì„ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì¡´ì¬í•˜ëŠ”ë°, ë°”ë¡œ ARKitì´ ê·¸ ì£¼ì¸ê³µì´ë‹¤.

But! ARkitì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë””ë°”ì´ìŠ¤ì ì¸ ì œì•½ì´ ì¡´ì¬í•œë‹¤.

í•˜ë“œì›¨ì–´ê°€ A9 ì¹© ì´ìƒì˜ ìŠ¤í™ì¼ ê²ƒ

ê¸°ë³¸ì ìœ¼ë¡œ ì•„ì´í°SE ì´í›„ ì •ë„ì˜ ëª¨ë¸ì´ë©´ ì¶©ë¶„í•  ê²ƒì´ë‹¤.

ARKitì€ í¬ê²Œ ë‹¤ìŒì˜ í”„ë ˆì„ì›Œí¬ë¡œ ë¶„ë¥˜ë  ìˆ˜ ìˆë‹¤.

- Metal
- RealityKit (for 3D)
- SceneKit (for 3D)
- SpriteKit (for 2D)

ì´ ì¤‘ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì´ ë°”ë¡œ Metalì´ë‹¤.

[Metal ê°œìš” - Apple Developer](https://developer.apple.com/kr/metal/)

> Metalì€ Apple í”Œë«í¼ì—ì„œ ì˜¤ë²„í—¤ë“œê°€ ë‚®ì€ API, í’ë¶€í•œ ì…°ì´ë”© ì–¸ì–´, ê·¸ë˜í”½ê³¼ ì»´í“¨íŒ… ê°„ì˜ ê¸´ë°€í•œ í†µí•© ë° íƒì›”í•œ GPU í”„ë¡œíŒŒì¼ë§ ë° ë””ë²„ê¹… ë„êµ¬ë¥¼ ì œê³µí•˜ê³  í•˜ë“œì›¨ì–´ ê°€ì† ê·¸ë˜í”½ì„ ì§€ì›í•©ë‹ˆë‹¤. ê²Œì„ê³¼ ì „ë¬¸ê°€ìš© ì•±ì€ iPhone, iPad, Mac ë° Apple TVì—ì„œ Apple Siliconì˜ ë†€ë¼ìš´ ì„±ëŠ¥ê³¼ íš¨ìœ¨ì„±ì„ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¬í•´ì˜ ìƒˆë¡œìš´ Game Porting Toolkitì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ í”Œë«í¼ì˜ ê²Œì„ì„ ê·¸ ì–´ëŠ ë•Œë³´ë‹¤ ì‰½ê²Œ Macìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìœ¼ë©°, Metal ì…°ì´ë” ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ê²Œì„ì˜ ì…°ì´ë”ì™€ ê·¸ë˜í”½ ì½”ë“œë¥¼ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ ëŒ€í­ ê°„ì†Œí™”ë©ë‹ˆë‹¤.
> 

ê³µì‹ë¬¸ì„œì—ì„œ ê°€ì ¸ì˜¨ Metalì˜ ì†Œê°œì´ë‹¤.

ë§ˆí¬ì—ì„œë¶€í„° ì• í”Œì´ ìƒë‹¹íˆ ê³µì„ ë“¤ì¸ ë…€ì„ì´ë¼ëŠ” ê²ƒì„ ëŠë‚„ ìˆ˜ ìˆëŠ”ë°, 

ìœ„ì—ì„œ ë§í•œ ARKitì˜ í”„ë ˆì„ì›Œí¬ë“¤ (SpriteKit, SceneKit, RealityKit)ì€ ëª¨ë‘ Metalì„ ë°”íƒ•ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê²ƒì´ë‹¤. ë˜í•œ ìš°ë¦¬ê°€ ë‚˜ì¤‘ì— ë‹¤ë¤„ ë³¼ ì˜ˆì •ì¸ CoreMLì—ì„œë„ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤!

Metalì˜ ëŒ€í‘œì ì¸ ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

### **MPS Graph**

MPS Graph ë³€í™˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ CoreML ë° ONNX ëª¨ë¸ì„ Metal ì•±ì— ë” ë¹ ë¥´ê²Œ í†µí•©í•˜ê³ , ìƒˆë¡œìš´ ì§ë ¬í™” í˜•ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë„¤ì´í‹°ë¸Œ MPS Graph ëª¨ë¸ì„ ë” ë¹ ë¥´ê²Œ ë¡œë“œí•˜ì„¸ìš”.

### **ì˜¤í”„ë¼ì¸ ì…°ì´ë” ì»´íŒŒì¼**

ë¹Œë“œ íƒ€ì„ì— GPU ë°”ì´ë„ˆë¦¬ë¥¼ ìƒì„±í•˜ê³  ì•± ë‚´ ì…°ì´ë” ì»´íŒŒì¼ì„ ì œê±°í•˜ì—¬ ê²Œì„ ì„±ëŠ¥ì„ í–¥ìƒí•˜ê³  ë¡œë“œ ì‹œê°„ì„ ì¤„ì…ë‹ˆë‹¤. ì´ì œ GPU ë°”ì´ë„ˆë¦¬ ì»´íŒŒì¼ëŸ¬ëŠ” ë ˆì´ íŠ¸ë ˆì´ì‹±(Ray Tracing) ê¸°ë²• ë° ë™ì  ì—°ê²° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§€ì›í•˜ë©° macOS ë˜ëŠ” Windowsìš© íˆ´ì²´ì¸ì„ ì œê³µí•©ë‹ˆë‹¤.

### **ë ˆì´ íŠ¸ë ˆì´ì‹±**

ê²Œì„ê³¼ í”„ë¡œë•ì…˜ ë Œë”ëŸ¬ë¥¼ ë”ìš± ì‚¬ì‹¤ì ì´ê³  ë””í…Œì¼í•œ ì¥ë©´ìœ¼ë¡œ í™•ì¥í•˜ì„¸ìš”. ì—¬ëŸ¬ ë ˆë²¨ì˜ ì¸ìŠ¤í„´ì‹±ê³¼ ì»¤ë¸Œ í”„ë¦¬ë¯¸í‹°ë¸Œ ì§€ì›ì„ í†µí•´ ë‚˜ë¬´, ë¨¸ë¦¬ì¹´ë½, í„¸ê³¼ ê°™ì€ ë³µì¡í•œ ì¬ì§ˆì„ ë”ìš± íš¨ìœ¨ì ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ëª¨ë‘ ê³µì‹ë¬¸ì„œì— ì¨ ìˆëŠ” ë‚´ìš©ì´ë‹¤.

**ì‰½ê²Œ ë§í•´ì„œ GPUì˜ ì„±ëŠ¥ì„ ìµœëŒ€í•œ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ê³ , ì—°ê´€ëœ í•˜ë“œì›¨ì–´ë¥¼ ì •ë§ í•œê³„ê¹Œì§€ ì¥ì–´ì§œë‚´(ì£½ì—¬ì¤˜) ê²Œì„ ë“±ì—ì„œì˜ ê·¸ë˜í”½ ì„±ëŠ¥ì„ ì˜¬ë¦¬ë©°, ë¨¸ì‹ ëŸ¬ë‹ì—ë„ ìµœì í™” ë˜ì–´ìˆëŠ” APIì´ë‹¤.**

## SceneKit

[SceneKit - Apple Developer](https://developer.apple.com/scenekit/)

> SceneKit is a high-level 3D graphics framework that helps you create 3D animated scenes and effects in your apps. It incorporates a physics engine, a particle generator, and easy ways to script the actions of 3D objects so you can describe your scene in terms of its content â€” geometry, materials, lights, and cameras â€” then animate it by describing changes to those objects.
> 

ê³µì‹ ì‚¬ì´íŠ¸ì—ëŠ” ì•±ì—ì„œ 3D ì• ë‹ˆë©”ì´ì…˜ ì¥ë©´ ë° íš¨ê³¼ë¥¼ ë§Œë“œëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê³ ê¸‰ 3D ê·¸ë˜í”½ í”„ë ˆì„ì›Œí¬ë¼ê³  í•œë‹¤. 

ì´ë¥¼ í™œìš©í•´ì„œ 3D ê²Œì„ì„ ë§Œë“¤ê³  ì•±ì— 3D ì»¨í…ì¸ ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤. 

ë” ë†€ë¼ìš´ ì ì€ 3D ì• ë‹ˆë©”ì´ì…˜ê¹Œì§€ (ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ê¹Œì§€!! ì œì‘ê³¼ì •ì— ìœ ë‹ˆí‹°ê°€ ë§ì´ ì°¸ì—¬í–ˆë‹¤ê³  í•´ì„œ ë” ê¸°ëŒ€ê°€ ëœë‹¤.) ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.

SceneKitì€ ê³ ì„±ëŠ¥ ë Œë”ë§ ì—”ì§„ + (3D asset ê°€ì ¸ì˜¤ê¸° ë° ì¡°ì‘ì„ ìœ„í•œ API)ì´ë‹¤.

ì¥ë©´ì„ í‘œì‹œí•˜ëŠ” ë Œë”ë§ ì•Œê³ ë¦¬ì¦˜ì„ ìš°ë¦¬ê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” Metalê³¼ ê°™ì€ ë¡œìš° ë ˆë²¨ APIì™€ ë‹¬ë¦¬

ì´ë…€ì„ì€ í•œ ë°œ ë” ë‚˜ì•„ê°€ì„œ ìš°ë¦¬ê°€ ìˆ˜í–‰í•˜ê³  ì‹¶ì€ Sceneì´ë‚˜, ì• ë‹ˆë©”ì´ì…˜ì— ëŒ€í•œ Descriptionë§Œ ì¶”ê°€í•œë‹¤ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

 

## SpriteKit

[SpriteKit - Apple Developer](https://developer.apple.com/spritekit/)

> The SpriteKit framework makes it easy to create high-performance, battery-efficient 2D games. With support for custom OpenGL ES shaders and lighting, integration with SceneKit, and advanced new physics effects and animations, you can add force fields, detect collisions, and generate new lighting effects in your games.
> 

ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œëŠ” SpriteKitì„ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•œë‹¤.

SpriteKit í”„ë ˆì„ì›Œí¬ëŠ” ê³ ì„±ëŠ¥ì˜ ë°°í„°ë¦¬ íš¨ìœ¨ì ì¸ 2D ê²Œì„ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í•œë‹¤â€¦.

ì¦‰ ì´ë…€ì„ì„ í†µí•´ ìš°ë¦¬ëŠ” ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ ë˜ëŠ” 2D assetì„ ì•±ì— ì¶”ê°€í•˜ê±°ë‚˜

ë†’ì€ ìˆ˜ì¤€ì˜ 2D ê²Œì„ ê¸°ë°˜ ë„êµ¬ ì„¸íŠ¸ë¡œ ê²Œì„ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤!

SpriteKitì€ 2ì°¨ì›ì„ ê·¸ë¦¬ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ì´ë‹¤. 

Metalì„ ì´ìš©í•œ ê³ ì„±ëŠ¥ ë Œë”ë§ì„ ì‚¬ìš©í•˜ëŠ” ë™ì‹œì— SpriteKitì—ì„œ ì œê³µí•˜ëŠ” ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ í†µí•´ ê²Œì„ê³¼ ë†’ì€ ìˆ˜ì¤€ì˜ ê·¸ë˜í”½ ì§‘ì•½ì ì¸ ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

## RealityKit

[RealityKit ê°œìš” - ì¦ê°• í˜„ì‹¤ - Apple Developer](https://developer.apple.com/kr/augmented-reality/realitykit/)

> RealityKit í”„ë ˆì„ì›Œí¬ëŠ” ì‚¬ì§„ì²˜ëŸ¼ ìƒìƒí•œ ë Œë”ë§ê³¼ ì¹´ë©”ë¼ íš¨ê³¼, ì• ë‹ˆë©”ì´ì…˜, ë¬¼ë¦¬ì ì¸ ìš”ì†Œ ë“±ì„ ê°–ì¶”ê³  íŠ¹ë³„íˆ ì¦ê°• í˜„ì‹¤ì„ ìœ„í•´ ì™„ì „íˆ ìƒˆë¡­ê²Œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤. RealityKitì€ ê¸°ë³¸ Swift API, ARKit í†µí•©, ë†€ëë„ë¡ ì‚¬ì‹¤ì ì¸ ë¬¼ë¦¬ì  ìš”ì†Œ ê¸°ë°˜ì˜ ë Œë”ë§, ë³€í˜• ë° ìŠ¤ì¼ˆë ˆí†¤ ì• ë‹ˆë©”ì´ì…˜, ê³µê°„ ì˜¤ë””ì˜¤ ë° ê°•ì²´ ë¬¼ë¦¬ ìš”ì†Œë¥¼ í†µí•´ AR ê°œë°œì„ ê·¸ ì–´ëŠ ë•Œë³´ë‹¤Â ë¹ ë¥´ê³  ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
> 

ê³µì‹ë¬¸ì„œì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ RealityKitì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•œë‹¤.

ì´ë…€ì„ì€ 2019ë…„ì´ ìƒì¼ì¸ ê³ ì˜¤ê¸‰ í”„ë ˆì„ì›Œí¬ì´ë‹¤. 

ì´ë…€ì„ì„ í™œìš©í•˜ë©´ macOSì˜ ìƒˆë¡œìš´ Object Capture APIë¥¼ ì‚¬ìš©í•˜ì—¬ iPhone ë˜ëŠ” iPadë¡œ ì´¬ì˜í•œ ì‚¬ì§„ì„ ARì— ìµœì í™”ëœ ì‹¤ê° ë‚˜ëŠ” 3D ëª¨ë¸ë¡œ ëª‡ ë¶„* ì•ˆì— ë§Œë“¤ ìˆ˜ ìˆë‹¤. Object Captureì—ì„œëŠ” iPhone ë˜ëŠ” iPadì—ì„œ ì´¬ì˜í•œ ì¼ë ¨ì˜ ì‚¬ì§„ë“¤ì„ ì‚¬ì§„ ì¸¡ëŸ‰ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ 3D ëª¨ë¸ë¡œ ë³€í™˜í•œë‹¤.

## Xcodeì—ì„œ ARKit ì‹œì‘í•˜ê¸°! (Feat ì •ìœ¡ë©´ì²´ ë§Œë“¤ê¸°)

Create New Project â†’ Augmented Reality App â†’ Content Technologyì—ì„œ ì‚¬ìš©í•  í”„ë ˆì„ì›Œí¬ë¥¼ ê²°ì •í•œë‹¤.

<img width="1385" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 06 51" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/d770baa1-4834-4aa0-85f0-adf7b076c7ab">


ì™œ RealityKitì´ ì•ˆëœ¨ë‚˜ í–ˆë”ë‹ˆ, ì´ì   SwiftUIì—ì„œë§Œ ì§€ì›í•˜ëŠ” ê²ƒ ê°™ë‹¤.
<img width="727" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 10 49" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/01814d9a-be2e-4c69-b9bb-4a66f2a6fcef">


ìš°ë¦¬ê°€ ë§Œë“¤ íƒœì–‘ê³„ AR ì•±ì„ ë§Œë“¤ê¸°ì— ì•ì„œ, ë„í˜• ëª‡ ê°œë¥¼ ë§Œë“  ë‹¤ìŒ 

ë„˜ì–´ê°€ë„ë¡ í•˜ì. í–‰ì„±ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” êµ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

SceneKitë¥¼ ì„ íƒí•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í™”ë©´ì´ ë‚˜ì˜¨ë‹¤.

<img width="1396" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 17 07" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/52d64b1c-d5e4-45ba-aa74-8f795654e346">



ì €, ì €ê±´ ë­ì—¬

artâ€¦? ëª‡ê°€ì§€ ì´ìƒí•œ ê²ƒì´ ì¶”ê°€ë˜ì–´ ìˆì„í…ë° ì§€ê¸ˆë¶€í„° ì²œì²œíˆ ì•Œì•„ë³´ì.

- Art.scnassets

***ê°ì²´ì˜ ì´ë¯¸ì§€ ë° ì¬ì§ˆì˜ ì„¤ì •ì„ ìœ„í•œ  assetì„ ëª¨ì•„ ë†“ì€ ê³³ì´ë‹¤.***

ê¸°ë³¸ì ìœ¼ë¡œ í´ë”ì— ship.scnê³¼ texture.png íŒŒì¼ì´ ìƒì„± ëœë‹¤.


<img width="262" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 20 27" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/5abe1742-7827-4938-b609-464df1a7a62b">

ship ë…€ì„ì€ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ê³ , texture ë…€ì„ì€ ì¬ì§ˆ ì„¤ì •ì„ í•  ë•Œ ì‚¬ìš©ëœë‹¤.

<img width="1103" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 22 34" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/c6e5fe79-c3d5-41a4-9a14-25d5bdfd78c3">


shipì— ë“¤ì–´ê°€ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤. í•´ë‹¹ ì„¤ì • ì¤‘ ì € ì˜¤ë¥¸ìª½ ì •ìœ¡ë©´ì²´ ë…€ì„ì„ ëˆ„ë¥´ë©´

Node Inspectorê°€ ë‚˜íƒ€ë‚œë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì´ Node. ë§í¬ë“œë¦¬ìŠ¤íŠ¸ì˜ ë…¸ë“œëŠ” ë¶„ëª… ì•„ë‹Œ ê²ƒ ê°™ì€ë°,

ì´ë…€ì„ì€ ë„ëŒ€ì²´ ë­˜ê¹Œ?

NodeëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 3D ê³µê°„ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ìœ„ì¹˜ ë° í¬ê¸°ë¥¼ ì§€ì •í•˜ê³  ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.

ì¦‰ ARë¡œ í™”ë©´ì— í‘œí˜„ë˜ëŠ” ë¬¼ì²´, ê°ì²´ë“¤ì„ ìš°ë¦¬ëŠ” Nodeë¼ê³  ë§í•œë‹¤. (ì–´ë¨¸ë‚« ë§í¬ë“œë¦¬ìŠ¤íŠ¸ì˜ ë…¸ë“œê°€ ë§ì–ì•„!)

ì—¬ê¸°ì„œ NodeëŠ” rootNodeì™€ childNodeë¡œ êµ¬ì„±ëœë‹¤.(ë­ì—¬ íŠ¸ë¦¬ì—¬?)

rootNodeì™€ childNodeëŠ” Node ê³„ì¸µìœ¼ë¡œ ì„œë¡œ ë¬¶ì—¬ìˆì§€ë§Œ, ì´ëŠ” visualì ìœ¼ë¡œ ë¬¶ì—¬ìˆë‹¤ëŠ” ê²ƒì´ ì ˆëŒ€ ì•„ë‹ˆë‹¤!!

ì¦‰ rootNodeë¥¼ êµ¬ì„±í•˜ëŠ” ìƒ‰ì´ ê²€ì •ì´ë¼ê³  í•´ì„œ, childNodeë„ ê²€ì •ì´ë¼ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ ì»¤ìŠ¤í…€ Nodeë¡œ ì„¤ì •í•˜ë©´ ì•„ë¬´ëŸ° ì„¤ì •ì´ ì§€ì •ë˜ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— í™”ë©´ì— ì•„ë¬´ê²ƒë„ ë³´ì´ì§€ ì•Šì„ ê²ƒì´ë‹¤.

ëˆˆì— ì§ì ‘ ë³´ì´ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ” ì¹´ë©”ë¼ ë˜ëŠ” geometry(ê³¨ê²©)ì™€ ê°™ì€ ë‹¤ë¥¸ êµ¬ì„± elementë¥¼ ë…¸ë“œì— ì¶”ê°€í•´ì•¼ í•œë‹¤.

ì´ ì‘ì—…ì„ í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ ë°”ë¡œ Materialì´ë‹¤.

ê·¸ë˜ ë°”ë¡œ ì„¤ì • ì°½ì— êµ¬ í˜•íƒœë¥¼ ëˆ„ë¥´ë©´ ë‚˜íƒ€ë‚˜ëŠ” ê³³ì´ë‹¤.

<img width="1110" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 28 28" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/55cbedfe-c3a8-44d6-8702-ee7b639e2720">


 ìœ„ì—ì„œë„ ë§í–ˆë“¯ì´ ì¡°ëª…ê³¼ ì¹´ë©”ë¼ ê·¸ë¦¬ê³  ê³¨ê²©ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ë‹¤.

Material Inspectorë¡œ ë“¤ì–´ê°€ë³´ë©´ Diffuseë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

DiffuseëŠ” ì˜ì–´ë¡œ í¼ì§€ë‹¤. í™•ì‚°í•˜ë‹¤. ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.

ê°ì²´ì— ì¬ì§ˆì˜ ì§ˆê°ê³¼ ìƒ‰ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” íŠ¹ì„±ìœ¼ë¡œ ê°ì²´ì— ì§ˆê°ê³¼ ìƒ‰ì„ ë¬¼ê°ì²˜ëŸ¼ í¼ëœ¨ë ¤ì£¼ëŠ” ê²ƒì´ë‹¤.

artì—ì„œ ëŒ€ëµì ìœ¼ë¡œ ì¤‘ìš”í•œ ë‚´ìš©ì„ ë‹¤ë¤˜ìœ¼ë‹ˆ, ë˜ ë¬´ìŠ¨ íŒŒì¼ì´ ë³€ê²½ëëŠ”ì§€ íŒŒì•…í•´ë³´ì.

ê¸°ë³¸ viewControllerì— ë“¤ì–´ê°€ë³´ë©´â€¦

<img width="1385" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-16 á„‹á…©á„’á…® 7 32 35" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/8dcb80d1-b39d-49c8-ac3b-b319ea862b67">


ì•„ë‹ˆ ì´ê²Œ ë­ì‹œì—¬â€¦!

ë­ê°€ ì´ë ‡ê²Œ ë§ì•„ì¡Œì–´

ì—¬ê¸°ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ì‚´í´ë´ì•¼ í•˜ëŠ” ê³³ì€

```swift
override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        
        // Create a session configuration
        let configuration = ARWorldTrackingConfiguration()

        // Run the view's session
        sceneView.session.run(configuration)
    }
```

ë°‘ì¤„ ì¹œ ì €ë¶€ë¶„ì´ë‹¤.

## Session

ARSessionì€ motion tracking, ì´ë¯¸ì§€ ë¶„ì„ê³¼ ê°™ì€ ëª¨ë“  AR ê²½í—˜ê³¼ ê´€ë ¨ëœ ì£¼ìš” ì‘ì—…ì„ ê´€ë¦¬í•˜ëŠ” ê°ì²´ì´ë‹¤.

ARë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ARKitê°€ ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ ìˆ˜í–‰í•˜ëŠ” major processë¥¼ ì¡°ì •í•œë‹¤. 

ì´ëŸ¬í•œ processëŠ” í•˜ë“œì›¨ì–´ì—ì„œ ë°ì´í„° ì½ê¸°, deviceì˜ ë‚´ì¥ ì¹´ë©”ë¼ ì œì–´, ìº¡ì²˜ëœ ì¹´ë©”ë¼ ì´ë¯¸ì§€ì— ëŒ€í•œ ì´ë¯¸ì§€ ë¶„ì„ ìˆ˜í–‰ ë“±ì´ ìˆë‹¤.

**AR ê²½í—˜ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ARSessionì´ ê¼­ í•„ìš”í•˜ë‹·!**

if ì‚¬ìš©ìê°€ ì»¤ìŠ¤í…€ rendererë¥¼ êµ¬í˜„í•˜ê³ ì‹¶ë‹¤ë©´ Sessionì„ ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ìˆë‹¤.

```swift
let session = ARSession()
session.delegate = self
```

ARSessionDelegateì—ëŠ” ê·¸ëŸ¼ ì–´ë–¤ í•¨ìˆ˜ê°€ ìˆì„ê¹Œ?

> ARSessionDelegate
> 
> 
> ## **[Topics](https://developer.apple.com/documentation/arkit/arsessiondelegate#topics)**
> 
> **[Receiving Camera Frames](https://developer.apple.com/documentation/arkit/arsessiondelegate#2880793)**
> 
> `[funcÂ session(ARSession,Â didUpdate: ARFrame)](https://developer.apple.com/documentation/arkit/arsessiondelegate/2865611-session)`
> 
> Provides a newly captured camera image and accompanying AR information to the delegate. *(ìƒˆë¡­ê²Œ ìº¡ì³ëœ ì¹´ë©”ë¼ ì´ë¯¸ì§€ë¥¼ ì œê³µí•˜ê³  ì´ì— ëŒ€í•œ ARSession ì •ë³´ë¥¼ ì œê³µí•œë‹¤!)*
> 
> **[Handling Content Updates](https://developer.apple.com/documentation/arkit/arsessiondelegate#2880566)**
> 
> `[funcÂ session(ARSession,Â didAdd: [ARAnchor])](https://developer.apple.com/documentation/arkit/arsessiondelegate/2865617-session)`
> 
> Tells the delegate that one or more anchors have been added to the session.
> 
> *(sessionì— ì¶”ê°€ëœ anchorë¥¼ delegateì— ë§í•´ì¤€ë‹¤. â†’ Anchorê°€ ë­”ë°)*
> 
> ### ARAnchor //
> 
> [ARAnchor | Apple Developer Documentation](https://developer.apple.com/documentation/arkit/aranchor)
> 
> An object that specifies the position and orientation of an item in the physical environment. â†’ ì¦‰ ìœ„ì¹˜ì™€ ë°©í–¥ì— ëŒ€í•œ í”„ë¡œí¼í‹°ë¥¼ ê°–ê³  ìˆëŠ” í´ë˜ìŠ¤
> 
> ì´í•´ê°€ ë”± ì•ˆë˜ì„œâ€¦ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°ë¥¼ ë’¤ì§€ë‹¤ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ë¬¸ì„ ë°œê²¬í–ˆë‹¤.
> 
> Andy Zazzë¼ëŠ” ë¶„ì´ ì‘ì„±í•´ì£¼ì‹  ë¬¸êµ¬ì´ë‹¤.
> 
> <aside>
> ğŸ’¡ ARAnchor
> 
> `ARAnchor`Â is anÂ **invisible trackable object**Â that holds a 3D model at anchor's position. Think ofÂ `ARAnchor`Â as aÂ `parent transform node`Â of your model that you can translate, rotate and scale like any other node in SceneKit or RealityKit. Every 3D model has a pivot point, right? So, this pivot point must match a location of anÂ `ARAnchor`Â in AR app.
> 
> If you're not using anchors in ARKit or ARCore app (in RealityKit iOS, however, it's impossible not to use anchors because they are integral part of a scene), your 3D models may drift from where they were placed, and this will dramatically impact appâ€™s realism and user experience. Hence, anchors are crucial elements of any AR scene.
> 
> ---
> 
> ### `ARAnchor`ëŠ” ì•µì»¤ ìœ„ì¹˜ì— 3D ëª¨ë¸ì„ ê³ ì •í•˜ëŠ” **ë³´ì´ì§€ ì•ŠëŠ” ì¶”ì  ê°€ëŠ¥í•œ ê°œì²´**ì…ë‹ˆë‹¤. SceneKit ë˜ëŠ” RealityKitì˜ ë‹¤ë¥¸ ë…¸ë“œì²˜ëŸ¼ ë³€í™˜, íšŒì „ ë° í¬ê¸° ì¡°ì •ì´ ê°€ëŠ¥í•œ ëª¨ë¸ì˜ 'ìƒìœ„ ë³€í™˜ ë…¸ë“œ'ë¡œ 'ARAnchor'ë¥¼ ìƒê°í•´ ë³´ì„¸ìš”. ëª¨ë“  3D ëª¨ë¸ì—ëŠ” í”¼ë²— í¬ì¸íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ì£ ? ë”°ë¼ì„œ ì´ í”¼ë´‡ í¬ì¸íŠ¸ëŠ” AR ì•±ì˜ 'ARAnchor' ìœ„ì¹˜ì™€ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.
> ARKit ë˜ëŠ” ARCore ì•±ì—ì„œ ì•µì»¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°(ê·¸ëŸ¬ë‚˜ RealityKit iOSì—ì„œëŠ” ì•µì»¤ê°€ ì¥ë©´ì˜ í•„ìˆ˜ì ì¸ ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì— ì•µì»¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤) 3D ëª¨ë¸ì´ ë°°ì¹˜ëœ ìœ„ì¹˜ì—ì„œ í‘œë¥˜í•  ìˆ˜ ìˆìœ¼ë©° ì´ëŠ” ê·¹ì ìœ¼ë¡œ ë°œìƒí•©ë‹ˆë‹¤. ì•±ì˜ í˜„ì‹¤ê°ê³¼ ì‚¬ìš©ì ê²½í—˜ì— ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ë”°ë¼ì„œ ì•µì»¤ëŠ” ëª¨ë“  AR ì¥ë©´ì—ì„œ ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤.
> 
> </aside>
> 
> `[funcÂ session(ARSession,Â didUpdate: [ARAnchor])](https://developer.apple.com/documentation/arkit/arsessiondelegate/2865624-session)`
> 
> Tells the delegate that the session has adjusted the properties of one or more anchors. *(anchor ì—…ë°ì´íŠ¸ ëì„ ë•Œ)*
> 
> `[funcÂ session(ARSession,Â didRemove: [ARAnchor])](https://developer.apple.com/documentation/arkit/arsessiondelegate/2865622-session)`
> 
> Tells the delegate that one or more anchors have been removed from the session.
> 
> *(ARAnchor ì‚­ì œëì„ ë•Œ)*
> 

ë§Œì•½ ì»¤ìŠ¤í…€ rendererë¥¼ êµ¬í˜„í•˜ì§€ ì•Šê³ ,  ARView, ARSCNView, ARSKViewì™€ ê°™ì€ í‘œì¤€ renderer ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ rendererëŠ” ì‚¬ìš©ìë¥¼ ìœ„í•œ session objectë¥¼ ìƒì„±í•œë‹¤.

- ARView
- ARSCNView : for 2D
- ARSKView : for 3D

## Configuration

Sessionì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” configurationì´ í•„ìš”í•˜ë‹¤. ARConfigurationì˜ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì‹¤ì œ ì„¸ê³„ì™€ ê´€ë ¨ëœ deviceì˜ ìœ„ì¹˜ì™€ motionì„ trackingí•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•œë‹¤.

ì¦‰, ARSessionì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì •ë³´ê°€ í¬í•¨ëœ ê¸°ë³¸ì ì¸ objectì´ë‹¤. ì„ íƒí•œ configurationì— ë”°ë¼ ì´ë¯¸ì§€ë¥¼ ìº¡ì²˜í•˜ëŠ” ì¹´ë©”ë¼ì™€ ì•±ì— í‘œì‹œë˜ëŠ” ì¹´ë©”ë¼ feedê°€ ê²°ì •ëœë‹¤.

**ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ì„ íƒí•œ configurationì— ë”°ë¼ ARkitê°€ ì¸ì‹í•˜ê³  ì•±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ì œ objectì˜ ì¢…ë¥˜ê°€ ê²°ì •ëœë‹¤ëŠ” ê²ƒì´ë‹¤.**

ARConfiguration ìê¸° ìì‹ ì„ í• ë‹¹í•˜ì§€ ë§ê³ Â **í•´ë‹¹ í•˜ìœ„ í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”**ë¥¼ í•´ì•¼í•  ê²ƒì„ ìŠì§€ ë§ì.

Configuration í•˜ìœ„ ê°ì²´ ëª‡ ê°€ì§€ë¥¼ ì‚´í´ë³´ì.

- **ARWorldTrackingConfiguration**
    
    ARKitê°€ ì¥ì¹˜ì˜ í›„ë©´ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì°¾ê³  ì¶”ì í•  ìˆ˜ ìˆëŠ” ëª¨ë“  í‘œë©´, ì‚¬ëŒ ë˜ëŠ” ì•Œë ¤ì§„ ì´ë¯¸ì§€ ë° ê°œì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¥ì¹˜ì˜ ìœ„ì¹˜ ë° ë°©í–¥ì„ ì¶”ì í•œë‹¤.
    
    ì‰½ê²Œ ë§í•´ì„œ ë””ë°”ì´ìŠ¤ê°€ ì›€ì§ì—¬ë„ ê°€ìƒê°ì²´ëŠ” í˜„ì‹¤ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ ì°©ì‹œë¥¼ ë§Œë“ ë‹¤.
    
    [roll, pitch, yaw] ì´ ì„¸ ê°œì˜ íšŒì „ ì¶•ê³¼ [x,y,z] ì´ ì„¸ ê°€ì§€ ë³€í™˜ ì¶•ìœ¼ë¡œ ì¥ì¹˜ì˜ ì´ë™ì„ ì¶”ì í•œë‹¤.
    
- **ARBodyTrackingConfiguration**
    
    ì¥ì¹˜ì˜ í›„ë©´ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ëŒ, ë¹„í–‰ê¸° ë° ì´ë¯¸ì§€ë¥¼ ì¶”ì í•  ìˆ˜ ìˆë‹¤.
    
- **AROrientationTrackingConfiguration**
    
    í›„ë©´ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¥ì¹˜ì˜ ë°©í–¥ë§Œ ì¶”ì í•œë‹¤.
    
- **ARImageTrackingConfiguration**
    
    ì¥ì¹˜ì˜ í›„ë©´ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ trackingì„ í†µí•´ ì œê³µí•œ ì•Œë ¤ì§„ ì´ë¯¸ì§€ë§Œ ì¶”ì í•œë‹¤.
    
- **ARFaceTrackingConfiguration**
    
    ì›€ì§ì„ê³¼ í‘œì •ì„ í¬í•¨í•˜ì—¬ ì¥ì¹˜ì˜ ì…€ì¹´ ì¹´ë©”ë¼ì— ìˆëŠ” ì–¼êµ´ë§Œ ì¶”ì í•œë‹¤.
    
    ì ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ë„í˜•ì„ ë§Œë“¤ì–´ë³´ì!
    
    ### 1.ì›í•˜ëŠ” ëª¨ì–‘ ìƒì„±
    
    (ARKitì˜ ê¸°ë³¸ ë‹¨ìœ„ëŠ” mì´ë‹¤. í”¼íŠ¸ê°€ ì ˆëŒ€ ì•„ë‹ˆë‹¤)
    
    | SCNText | 3ì°¨ì› í…ìŠ¤íŠ¸ | SCNCapsule | ìº¡ìŠ ëª¨ì–‘ | SCNPlane | í‰ë©´ ëª¨ì–‘ | SCNTorus | íŠœë¸Œ ëª¨ì–‘ |
    | --- | --- | --- | --- | --- | --- | --- | --- |
    | SCNFloor | ë¹„ë‹¥ì— ë°˜ì‚¬ | SCNCone | ì›ë¿” ëª¨ì–‘ | SCNPyramid | í”¼ë¼ë¯¸ë“œ ëª¨ì–‘ | SCNTube | êµ¬ë© ì›í†µ ëª¨ì–‘ |
    | SCNBox | ì •ìœ¡ë©´ì²´ | SCNCylinder | ì›í†µ ëª¨ì–‘ | SCNSphere | êµ¬ ëª¨ì–‘ |  |  |
    
    ```swift
    //**chamferRadius: ëª¨ì„œë¦¬ ë¼ìš´ë“œ ì •ë„**
    let cube = SCNBox(width: 0.1, height: 0.1, length: 0.1, chamferRadius: 0.01)
    ```
    
    ìš°ë¦¬ëŠ” ì •ìœ¡ë©´ì²´ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ì¤¬ë‹¤.
    
    ### 2.ì¬ì§ˆ ì„¤ì •
    
    ìœ„ì—ì„œ ë§í•œ diffuse íŠ¹ì„±ì„ ì´ìš©í•´ ì¬ì§ˆ ë° ìƒ‰ìƒ ê·¸ë¦¬ê³  png íŒŒì¼ë¡œ ê°ì²´ ì™¸ê´€ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤,
    
    ```swift
            // ì¬ë£Œ ì„¤ì •ì„ ìœ„í•´ material ê°ì²´ ìƒì„±
            let material = SCNMaterial()
            
            //ìƒ‰ìƒ
            material.diffuse.contents = UIColor.black
            
            // íë¸Œì— ì¬ì§ˆì„ ë§Œë“  ì¬ì§ˆë¡œ ë³€ê²½ ( ë°°ì—´ë¡œ ê°ì‹¼ë‹¤ )
            cube.materials = [material]
    ```
    
    ### 3.Nodeì˜ ìœ„ì¹˜ì™€ geometryë¥¼ ì„¤ì •í•œë‹¤
    
    ```swift
            // positionì˜ íƒ€ì…ì€ SCNVector3ì´ë‹¤.
            // zì¶•ë§Œ ìŒìˆ˜ì¸ ì´ìœ ëŠ” ìš°ë¦¬ê°€ ìƒê°í•˜ëŠ” x,y,zì˜ ë°©í–¥ê³¼ ë‹¤ë¥´ê¸° ë•Œë¬¸!
            // yì¶•ì´ ë¬¼ì²´ì˜ ìœ„ì—ì„œ ì•„ë˜ë¥¼ ê´€í†µí•˜ì—¬ ëŒì•„ê°€ê³ 
            // zì¶•ì´ ìš°ë¦¬ê°€ ì•„ëŠ” yì¶•ì²˜ëŸ¼ ìš°ë¦¬ê°€ ë¬¼ì²´ë¥¼ ì •ë©´ì—ì„œ ë´¤ì„ ë•Œ ë“¤ì–´ê°€ëŠ” ë°©í–¥ì´ë‹¤.
            node.position = SCNVector3(x: 0, y: 0.05, z: -0.5)
            
            //ê³¨ê²© ë˜ëŠ” ë¼ˆëŒ€ë¼ê³ ë„ ë¶ˆë¦°ë‹¤.
            node.geometry = cube
     
    ```
    
    ### 4.addChildNodeë¡œ ìƒì„±í•œ ë…¸ë“œë¥¼ ì¶”ê°€í•œë‹¤
    
    ```swift
            // addChildNodeë¡œ ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì¶”ê°€.
            sceneView.scene.rootNode.addChildNode(node)
            
            // ì•„ì§ ë¹›ê³¼ ê·¸ë¦¼ì ì„¤ì •ì„ ì•ˆí•´ì¤¬ë‹¤.
            // autoenablesDefaultLightingëŠ” ìë™ìœ¼ë¡œ ì¡°ëª…ê°’ì„ ë§Œë“¤ì–´ ì¤€ë‹¤.
            sceneView.autoenablesDefaultLighting = true
    ```
    
    - ì‹œì—° ì˜ìƒ
   
    

https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/54b7f7fe-a2be-449c-a36e-03eeee718b86


    ë’¤ì— ì§‘ì´ ë³´ì—¬ì„œ ì¡°ê¸ˆ ë¯¼ë§í•œâ€¦
        
    ì•„ë˜ëŠ” ì „ì²´ ì½”ë“œì´ë‹¤.
    
    ```swift
    //
    //  ViewController.swift
    //  ARKitTest
    //
    //  Created by jinyong yun on 2/16/24.
    //
    
    import UIKit
    import SceneKit
    import ARKit
    
    class ViewController: UIViewController, ARSCNViewDelegate {
    
        @IBOutlet var sceneView: ARSCNView!
        
        override func viewDidLoad() {
            super.viewDidLoad()
            
            // Set the view's delegate
            sceneView.delegate = self
            
            // Show statistics such as fps and timing information
            sceneView.showsStatistics = true
            
            self.makeSphere()
            
            
            
        }
        
        override func viewWillAppear(_ animated: Bool) {
            super.viewWillAppear(animated)
            
            // Create a session configuration
            let configuration = ARWorldTrackingConfiguration()
    
            // Run the view's session
            sceneView.session.run(configuration)
        }
        
        override func viewWillDisappear(_ animated: Bool) {
            super.viewWillDisappear(animated)
            
            // Pause the view's session
            sceneView.session.pause()
        }
    
        // MARK: - ARSCNViewDelegate
        
        func makeSphere() {
            
                // ì •ìœ¡ë©´ì²´ë¥¼ ë§Œë“ ë‹¤ (chamferRadius: ëª¨ì„œë¦¬ ë¼ìš´ë“œ ì •ë„)
                let cube = SCNBox(width: 0.1, height: 0.1, length: 0.1, chamferRadius: 0.01)
                
                // ì¬ë£Œ ì„¤ì •ì„ ìœ„í•´ material ê°ì²´ ìƒì„±
                let material = SCNMaterial()
                
                //ìƒ‰ìƒ
                material.diffuse.contents = UIColor.black
                
                // íë¸Œì— ì¬ì§ˆì„ ë§Œë“  ì¬ì§ˆë¡œ ë³€ê²½ ( ë°°ì—´ë¡œ ê°ì‹¼ë‹¤ )
                cube.materials = [material]
                
              
                // Nodeë¥¼ ë§Œë“¤ê¸°!
                
                // SCNNodeëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 3D ê³µê°„ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
                // ìœ„ì¹˜ë¥¼ ì§€ì • -> ê°œì²´ë¥¼ ìƒì„±í•´ì•¼í•œë‹¤.
                // SCNNodeì•ˆì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë¬´ê²ƒë„ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ì•„ê¹Œ ìœ„ì—ì„œ ì»¤ìŠ¤í…€ ë…¸ë“œëŠ” ì•„ë¬´ ê²ƒë„ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ê³  í–ˆì£ !)
                // ëˆˆì— ë³´ì´ê²Œ í•˜ë ¤ë©´ ì¡°ëª…, ì¹´ë©”ë¼ ë˜ëŠ” ê³¨ê²©ê³¼ ê°™ì€ ë‹¤ë¥¸ êµ¬ì„± ìš”ì†Œë¥¼ ë…¸ë“œì— ì¶”ê°€í•´ì•¼ í•œë‹¤.
                let node = SCNNode()
                
                // positionì˜ íƒ€ì…ì€ SCNVector3ì´ë‹¤.
                // zì¶•ë§Œ ìŒìˆ˜ì¸ ì´ìœ ëŠ” ìš°ë¦¬ê°€ ìƒê°í•˜ëŠ” x,y,zì˜ ë°©í–¥ê³¼ ë‹¤ë¥´ê¸° ë•Œë¬¸!
                // yì¶•ì´ ë¬¼ì²´ì˜ ìœ„ì—ì„œ ì•„ë˜ë¥¼ ê´€í†µí•˜ì—¬ ëŒì•„ê°€ê³ 
                // zì¶•ì´ ìš°ë¦¬ê°€ ì•„ëŠ” yì¶•ì²˜ëŸ¼ ìš°ë¦¬ê°€ ë¬¼ì²´ë¥¼ ì •ë©´ì—ì„œ ë´¤ì„ ë•Œ ë“¤ì–´ê°€ëŠ” ë°©í–¥ì´ë‹¤.
                node.position = SCNVector3(x: 0, y: 0.05, z: -0.5)
                
                //ê³¨ê²© ë˜ëŠ” ë¼ˆëŒ€ë¼ê³ ë„ ë¶ˆë¦°ë‹¤.
                node.geometry = cube
                
                // addChildNodeë¡œ ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì¶”ê°€.
                sceneView.scene.rootNode.addChildNode(node)
                
                // ì•„ì§ ë¹›ê³¼ ê·¸ë¦¼ì ì„¤ì •ì„ ì•ˆí•´ì¤¬ë‹¤.
                // autoenablesDefaultLightingëŠ” ìë™ìœ¼ë¡œ ì¡°ëª…ê°’ì„ ë§Œë“¤ì–´ ì¤€ë‹¤.
                sceneView.autoenablesDefaultLighting = true
            }
        
    }
    ```
    

# ğŸª íƒœì–‘ê³„ AR ì•± ë§Œë“¤ê¸°!

ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ íƒœì–‘ê³„ ARì•±ì„ ë§Œë“¤ì–´ë³´ì! 

[Solar System Scope](https://www.solarsystemscope.com/textures/)

í•´ë‹¹ ì‚¬ì´íŠ¸ì—ì„œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™”ë‹¤.


<img width="273" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-20 á„‹á…©á„Œá…¥á†« 11 52 00" src="https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/5000555c-1f66-47d2-8fc4-3a27cde11961">

ì¢€ ì§€ì €ë¶„í•´ ë³´ì´ëŠ”ë°â€¦ë‚˜ì¤‘ì— í´ë”ë¡œ ì •ë¦¬í•´ì£¼ì.

ìˆ˜ê¸ˆì§€í™”ëª©í† ì²œí•´ëª…ì˜ ì´ë¯¸ì§€ë¥¼ ìœ„ì˜ ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë°›ì•„ artì˜ Add File To â€œart.scnassetsâ€ ë¥¼ ëˆŒëŸ¬ ì¶”ê°€í•œë‹¤.

ê·¸ëŸ¼ ë‚˜ì¤‘ì— ì´ë¯¸ì§€ë¥¼ 

art.scnassets/\(planetname).jpeg

ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

ìš°ë¦¬ê°€ ê·¸ ë‹¤ìŒ í•´ì•¼í•  ì¼ì€ ìœ„ì—ì„œ ë§Œë“¤ì—ˆë˜ ë„í˜• ë§Œë“¤ê¸°ì™€ ë‹¤ë¥´ì§€ ì•Šë‹¤.

ë‹¤ë§Œ ê·¸ ë„í˜•ì—ë‹¤ materialì„ ì”Œì›Œì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

```swift
override func viewDidLoad() {
        super.viewDidLoad()
        
        // Set the view's delegate
        sceneView.delegate = self
        
        // Show statistics such as fps and timing information
        sceneView.showsStatistics = true
        
        self.makeUNIV()
        
        
    }
    
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        
        // Create a session configuration
        let configuration = ARWorldTrackingConfiguration()

        // Run the view's session
        sceneView.session.run(configuration)
    }
    
    override func viewWillDisappear(_ animated: Bool) {
        super.viewWillDisappear(animated)
        
        // Pause the view's session
        sceneView.session.pause()
    }
    
    
    func makePlanet( _ radius: Double, _ planetname: String, _ zposition: Float) -> SCNNode {
        // êµ¬ ëª¨ì–‘ì„ ì›í•˜ëŠ” ë°˜ì§€ë¦„ì˜ í¬ê¸°ë¡œ ìƒì„±í•œë‹¤. í–‰ì„±ê°„ ì‹¤ì œ ë¹„ìœ¨ì„ cmë¡œ í™˜ì‚°í•˜ì—¬ ì ìš©í–ˆë‹¤.
        let sphere = SCNSphere(radius: radius)
        
        let material = SCNMaterial()
        
        // ì¶”ê°€í•œ texture íŒŒì¼ì„ UIImageë¡œ ë¶ˆëŸ¬ì˜¤ê¸°ë§Œ í•˜ë©´ëœë‹¤.
        // art.scnassets í´ë” ì•ˆì— ìˆìœ¼ë¯€ë¡œ (/)ë¥¼ í†µí•´ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ì—¬ ë„£ì–´ì¤€ë‹¤.
        material.diffuse.contents = UIImage(named: "art.scnassets/\(planetname).jpeg")
        
        sphere.materials = [material]
        
        let node = SCNNode()
        
        node.position = SCNVector3(x: 0, y: 0, z: zposition)
        
        node.geometry = sphere
        
        return node
    }
    
    
    func makeUNIV() {
       
        let nodeMercury = makePlanet(0.1, "mercury", 0.01)
        let nodeVenus = makePlanet(0.6, "venus", 10.3)
        let nodeEarth = makePlanet(0.7, "earth", 30.4)
        let nodeMars = makePlanet(0.2, "mars", 50.2)
        let nodeJupiter = makePlanet(10.9, "jupiter", 70.0)
        let nodeSaturn = makePlanet(9.1, "saturn", 90.2)
        let nodeUranus = makePlanet(3.7, "uranus", 110.4)
        let nodeNeptune = makePlanet(3.6, "neptune", 140.0)
        
        // ë°°ê²½ì„ ì¶”ê°€í•˜ê¸°
        // sceneView ìì²´ì˜ backgroundì— ì ‘ê·¼í•˜ì—¬ ë°°ê²½ì„ ì„¤ì •í•´ì¤Œ
        sceneView.scene.background.contents = UIImage(named: "art.scnassets/space.jpeg")
        
        sceneView.scene.rootNode.addChildNode(nodeMercury)
        sceneView.scene.rootNode.addChildNode(nodeVenus)
        sceneView.scene.rootNode.addChildNode(nodeEarth)
        sceneView.scene.rootNode.addChildNode(nodeMars)
        sceneView.scene.rootNode.addChildNode(nodeJupiter)
        sceneView.scene.rootNode.addChildNode(nodeSaturn)
        sceneView.scene.rootNode.addChildNode(nodeUranus)
        sceneView.scene.rootNode.addChildNode(nodeNeptune)
        
        sceneView.autoenablesDefaultLighting = true
        
        
    }
```

ë§Œë“¤ì–´ ì¤€ í•¨ìˆ˜ëŠ” ë‹¨ì§€ ë‘ ê°€ì§€, í–‰ì„± ìì²´ì˜ nodeë¥¼ êµ¬ì„±í•˜ëŠ” makePlanet í•¨ìˆ˜ì™€ 

ê·¸ ë…¸ë“œë“¤ì„ ëª¨ì•„ì„œ íƒœì–‘ê³„ë¥¼ êµ¬ì„±í•´ì£¼ëŠ” makeUNIV í•¨ìˆ˜ì´ë‹¤.

ì›ë˜ ë‘ í•¨ìˆ˜ì˜ ë‚´ìš©ì´ ëª¨ë‘ makeUNIV í•¨ìˆ˜ì— ë“¤ì–´ìˆì—ˆëŠ”ë°, ëª¨ë“ˆí™”ë¥¼ ìœ„í•´ ë‘ í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•´ì¤¬ë‹¤.

makePlanet í•¨ìˆ˜ëŠ” ì¸ìë¡œ [í–‰ì„± ë°˜ì§€ë¦„, ì´ë¯¸ì§€ Urlì— ì‚¬ìš©ë  í–‰ì„± ì´ë¦„, zì¶• ìœ„ì¹˜ ê°’]ì„ ë°›ëŠ”ë‹¤.

í•´ë‹¹ í•¨ìˆ˜ì—ì„œ ë¦¬í„´í•œ ë…¸ë“œë¥¼ makeUNIV í•¨ìˆ˜ì—ì„œ addChildNodeí•˜ì—¬ ë£¨íŠ¸ ë…¸ë“œì— í•˜ìœ„ë¡œ ì¶”ê°€í•´ì¤€ë‹¤.

ëŒ€ë¶€ë¶„ ìœ„ì—ì„œ ë‹¤ë£¬ ë„í˜• ë§Œë“¤ê¸° íŒŒíŠ¸ì™€ ìœ ì‚¬í•˜ë‹ˆ ì½”ë“œê°€ ì–´ë µì§€ëŠ” ì•Šì„ ê²ƒì´ë‹¤.



https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/a45c53bc-84f9-4aac-b2f2-3919bc7d2419



***ë‹¤ë§Œ ë¬¸ì œëŠ” í–‰ì„± ë°˜ì§€ë¦„ ë¹„ìœ¨ì„ ì‹¤ì œ í–‰ì„±ì— ë§ì¶”ë‹¤ ë³´ë‹ˆ, ëª©ì„±ì´ ë„ˆë¬´ ì»¤ì„œ ë’¤ì— í–‰ì„±ì´ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.*** 

ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œâ€¦? 

í•œ ë²ˆ ëŒë ¤ë³¼ê¹Œ? 

## ì„œë¸Œë¯¸ì…˜: ì‹¤ì œ ê³µì „ê³¼ ìì „ì„ ì‹œì¼œë³´ì!

ë¨¼ì € ê° í–‰ì„±ì´ ëŒê¸° ìœ„í•´ì„œëŠ” ì¤‘ì‹¬ì¶•ì´ ìˆì–´ì•¼ í•œë‹¤. 

ë‹¹ì—°íˆ íƒœì–‘ê³„ì—ì„œì˜ ì¤‘ì‹¬ì€ íƒœì–‘! 

ê·¸ë˜ì„œ nodeSunì„ ë§Œë“¤ì–´ì¤¬ë‹¤.

```swift
let nodeSun = makePlanet(0.9, "sun", -1)
```

ê·¸ëŸ° ë‹¤ìŒ ìœ„ì—ì„œ ìš°ë¦¬ê°€ ë§Œë“¤ì–´ì¤¬ë˜ makePlanet í•¨ìˆ˜ì—ë‹¤ action ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ì¤¬ë‹¤.

ì”¬ ì•¡ì…˜ í´ë˜ìŠ¤ì˜ ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ íšŒì „í•˜ê²Œ í•˜ëŠ” rotateBy ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ìì „ì„ ìœ„í•œ ì•¡ì…˜ì„ ë§Œë“¤ì–´ì¤¬ë‹¤. ì´ë…€ì„ì„ í†µí•´ yì¶•ìœ¼ë¡œ 360ë„ ë§Œí¼ íšŒì „ì‹œí‚¤ëŠ” ë™ì‘ì„ 8(TimeInterval â†’ typealiasí•œ Doubleì„)ë™ì•ˆ í•´ì¤¬ë‹¤. 

ë‹¹ì—°íˆ ì´ ë™ì‘ì´ ê³„ì† ì§„í–‰ë˜ì–´ì•¼ í•˜ë¯€ë¡œ, repeatForever ë©”ì„œë“œë¥¼ í†µí•´ ì•¡ì…˜ì„ ëŠ˜ë¦° ë‹¤ìŒ, ê° í–‰ì„± ë…¸ë“œê°€ ì•¡ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ runAction ë©”ì„œë“œë¥¼ ì´ìš©í•´ ì•¡ì…˜ì„ ìˆ˜í–‰ì‹œì¼°ë‹¤.

ìì „ì€ rotateByì— ì˜í•´ ì§ê´€ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆì—ˆë‹¤.

```swift
func makePlanet( _ radius: Double, _ planetname: String, _ zposition: Float) -> SCNNode {
        // êµ¬ ëª¨ì–‘ì„ ì›í•˜ëŠ” ë°˜ì§€ë¦„ì˜ í¬ê¸°ë¡œ ìƒì„±í•œë‹¤. í–‰ì„±ê°„ ì‹¤ì œ ë¹„ìœ¨ì„ cmë¡œ í™˜ì‚°í•˜ì—¬ ì ìš©í–ˆë‹¤.
        let sphere = SCNSphere(radius: radius)
        
        let material = SCNMaterial()
        
        // ì¶”ê°€í•œ texture íŒŒì¼ì„ UIImageë¡œ ë¶ˆëŸ¬ì˜¤ê¸°ë§Œ í•˜ë©´ëœë‹¤.
        // art.scnassets í´ë” ì•ˆì— ìˆìœ¼ë¯€ë¡œ (/)ë¥¼ í†µí•´ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ì—¬ ë„£ì–´ì¤€ë‹¤.
        material.diffuse.contents = UIImage(named: "art.scnassets/\(planetname).jpeg")
        
        sphere.materials = [material]
        
        let node = SCNNode()
        
        node.position = SCNVector3(x: 0, y: 0, z: zposition)
        
        node.geometry = sphere
        
        **let action = SCNAction.rotateBy(x: 0, y: CGFloat(360.degreeToRadians), z: 0, duration: 8)
        let forever = SCNAction.repeatForever(action)
        node.runAction(forever)**
        
        return node
    }

...

extension Int {
//360ì„ ë¼ë””ì•ˆ í‘œê¸°ë¡œ ë°”ê¿”ì£¼ëŠ” extensionì´ë‹¤. ì§€ê¸ˆìƒê°í•˜ë©´ ê·¸ëƒ¥ 2*.pi í•´ë„ ë™ì‘í–ˆì„í…ë°
    var degreeToRadians: Double { return Double(self) * .pi/180 }
}
```

ê·¸ë ‡ë‹¤ë©´ ê³µì „ì€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì•¼ í• ê¹Œ

rotateTo ë©”ì„œë“œ, rotate ë©”ì„œë“œë¥¼ ì´ê²ƒì €ê²ƒ ì´ìš©í•´ë³´ì•˜ìœ¼ë‚˜

ëª¨ë‘ ìì‹ ì˜ ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ íšŒì „í•  ë¿ ê³µì „ì´ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ë‹¤.

í•œì°¸ì„ ê³ ë¯¼í•˜ë‹¤ í•œê°€ì§€ ì•„ì´ë””ì–´ê°€ ë– ì˜¬ëë‹¤.

**ì–´ë¼â€¦ë§Œì•½ ìì „ë§Œ ê°€ëŠ¥í•˜ë‹¤ë©´ íƒœì–‘ì„ ì¤‘ì‹¬ìœ¼ë¡œ ìì „í•˜ëŠ” ê±°ëŒ€í•œ ë…¸ë“œë¥¼ ë§Œë“  ë‹¤ìŒ ê·¸ ë…¸ë“œ í•˜ìœ„ì— í–‰ì„± ë…¸ë“œë“¤ì„ ë„£ìœ¼ë©´ ìì „í•˜ëŠ” ê±°ì§€ë§Œ ë³´ì´ê¸°ì—ëŠ” ê³µì „ì²˜ëŸ¼ ë³´ì´ì§€ ì•Šì„ê¹Œ?**

ì´ ë§ì´ ì´í•´ê°€ ì–´ë ¤ìš°ë©´ ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ì.

í•„ìê°€ ì§ì ‘ ê·¸ë¦° ê·¸ë¦¼ì´ë‹¤.

![Untitled (Draft)-9 2](https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/4ccc239d-20e3-4569-92bd-e33efa792ae9)

ê·¸ë˜ì„œ PlanetParent ë…¸ë“œë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ì¤¬ë‹¤.

íƒœì–‘ì„ ì¤‘ì‹¬ì¶•ìœ¼ë¡œ ìì „í•´ì•¼í•˜ë‹ˆ SCNVector3ë¥¼ 0,0,-1ë¡œ ë§ì¶°ì¤¬ë‹¤. (ìœ„ì—ì„œ nodeSunì„ ë§Œë“¤ì–´ì¤¬ë˜ ê²ƒì„ ë³´ë©´ ì—­ì‹œ 0,0,-1ë¡œ íƒœì–‘ ìœ„ì¹˜ë¥¼ ì„¤ì •í–ˆë‹¤.)

ê·¸ ë‹¤ìŒ sceneView.scene.rootNode ì¦‰ ì”¬ì˜ ë£¨íŠ¸ ë…¸ë“œì—ë‹¤ í•´ë‹¹ ë…¸ë“œë¥¼ ì¶”ê°€í–ˆë‹¤.

íƒœì–‘ê³¼ ê°™ì€ ìœ„ì¹˜ ì„ ì •ì´ë‹¤. ì¦‰ íƒœì–‘ê³¼ ë™ë ˆë²¨ì˜ ë…¸ë“œ!

í–‰ì„±ë“¤ì˜ ìì „ ì•¡ì…˜ ë©”ì„œë“œì™€ ë˜‘ê°™ì´ ìì „ ì•¡ì…˜ì„ ë„£ì–´ì¤€ë‹¤ìŒ

ë…¸ë“œë¥¼ ë¦¬í„´í–ˆë‹¤.

rotateBy ë©”ì„œë“œì— durationì— ëœë¤ê°’ì„ ì¤€ ì´ìœ ëŠ” ëª¨ë“  í–‰ì„±ì˜ ê³µì „ ì£¼ê¸°ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì´ë‹¤.

ì „ë¶€ë‹¤ 20ìœ¼ë¡œ í•œ ë‹¤ìŒ ì‹œë®¬ì„ ëŒë ¤ë³´ë‹ˆ ë­”ê°€ ì–´ìƒ‰í•´ì„œ ì´ë ‡ê²Œ ë°”ê¿”ì¤¬ë‹¤.

```swift
func makePlanetParent() -> SCNNode {
        let parentNode = SCNNode()
        parentNode.position = SCNVector3(0, 0, -1)
        sceneView.scene.rootNode.addChildNode(parentNode)
        let randomDur = Int.random(in: 20...50)
        let parentRotaion = SCNAction.rotateBy(x: 0, y: 2 * .pi, z: 0, duration: TimeInterval(randomDur))
        let parentRotationRepeat = SCNAction.repeatForever(parentRotaion)
        parentNode.runAction(parentRotationRepeat)
        return parentNode
    }
```

ë¦¬í„´í•œ ë…¸ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìœ„ì—ì„œ ë§Œë“  í–‰ì„±ë“¤ì„ ì¶”ê°€í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.

```swift
func makeUNIV() {
        
        let mercuryParentNode = makePlanetParent()
        let venusParentNode = makePlanetParent()
        let earthParentNode = makePlanetParent()
        let marsParentNode = makePlanetParent()
        let jupiterParentNode = makePlanetParent()
        let saturnParentNode = makePlanetParent()
        let uranusParentNode = makePlanetParent()
        let neptuneParentNode = makePlanetParent()
        
        let nodeSun = makePlanet(0.9, "sun", -1)
        let nodeMercury = makePlanet(0.1, "mercury", 5.1)
        let nodeVenus = makePlanet(0.6, "venus", 10.3)
        let nodeEarth = makePlanet(0.7, "earth", 30.4)
        let nodeMars = makePlanet(0.2, "mars", 50.2)
        let nodeJupiter = makePlanet(10.9, "jupiter", 150.0)
        let nodeSaturn = makePlanet(9.1, "saturn", 170.2)
        let nodeUranus = makePlanet(3.7, "uranus", 190.4)
        let nodeNeptune = makePlanet(3.6, "neptune", 210.0)
        
        sceneView.scene.rootNode.addChildNode(nodeSun)
        mercuryParentNode.addChildNode(nodeMercury)
        venusParentNode.addChildNode(nodeVenus)
        earthParentNode.addChildNode(nodeEarth)
        marsParentNode.addChildNode(nodeMars)
        jupiterParentNode.addChildNode(nodeJupiter)
        saturnParentNode.addChildNode(nodeSaturn)
        uranusParentNode.addChildNode(nodeUranus)
        neptuneParentNode.addChildNode(nodeNeptune)
        
        // ë°°ê²½ì„ ì¶”ê°€í•˜ê¸°
        // sceneView ìì²´ì˜ backgroundì— ì ‘ê·¼í•˜ì—¬ ë°°ê²½ì„ ì„¤ì •í•´ì¤Œ
        sceneView.scene.background.contents = UIImage(named: "art.scnassets/space.jpeg")
        
        
        sceneView.autoenablesDefaultLighting = true
        
        
    }
```

 SCNNode ë°°ì—´ì„ ë§Œë“¤ì–´ forEachë¡œ ëŒë¦¬ë©´ ì½”ë“œê°€ ì¢€ ë” ê¹”ë”í–ˆì„í…Œì§€ë§Œ

ë³´ë‹¤ ì§ê´€ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ ì €ë ‡ê²Œ êµ¬ì„±í–ˆë‹¤.

## ì‹¤ì œ êµ¬ë™ í™”ë©´

í•„ìì˜ í°ìœ¼ë¡œ ì§ì ‘ ì´¬ì˜í•œ ì•±ì˜ êµ¬ë™ í™”ë©´ì´ë‹¤.


https://github.com/jinyongyun/ARKit_SolarSystem_APP/assets/102133961/ee2d0509-36fb-42d8-be02-862ffb763fce


